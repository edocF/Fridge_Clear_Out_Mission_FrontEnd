<template>
  <view class="daily-recipe-card">
    <view class="header">
      <text class="emoji">ğŸ‘¨â€âš•ï¸</text>
      <text class="title">æ¯æ—¥æ¨èé£Ÿè°±</text>
      <text class="ai-label">ç”±AIè¥å…»å¸ˆæ¨è</text>
    </view>
    <view class="recipe-name">
      <text class="dish-emoji">{{ computedEmoji }}</text>
      <text class="dish-name">{{ recipe.name }}</text>
    </view>
    <view class="reason">
      <text class="reason-label">æ¨èç†ç”±ï¼š</text>
      <text class="reason-text">{{ computedReason }}</text>
    </view>
  </view>
</template>

<script>
export default {
  name: 'DailyRecipeCard',
  props: {
    recipe: {
      type: Object,
      required: true
      // ç»“æ„ç¤ºä¾‹ï¼š{ name: 'ç‰›æ²¹æœç‰›è‚‰æ²™æ‹‰', tags: ['å‡è¡¡', 'é«˜è›‹ç™½'] }
    }
  },
  computed: {
    computedEmoji() {
      // æ ¹æ®èœåæˆ–æ ‡ç­¾è‡ªåŠ¨é€‰æ‹©emoji
      const name = this.recipe.name || '';
      const tags = this.recipe.tags ? this.recipe.tags.join('') : '';
      if (/ç‰›æ²¹æœ|æ²™æ‹‰|è”¬èœ|ç´ |èœ|ç”Ÿèœ|æ°´æœ/.test(name + tags)) return 'ğŸ¥—';
      if (/ç‰›è‚‰|é¸¡è‚‰|é¸­è‚‰|è‚‰|è›‹ç™½/.test(name + tags)) return 'ğŸ–';
      if (/æ±¤|ç²¥|ç¾¹/.test(name + tags)) return 'ğŸ²';
      if (/é¥­|ç±³|ä¸»é£Ÿ|é¢|ç²¥/.test(name + tags)) return 'ğŸš';
      if (/é±¼|è™¾|æµ·é²œ/.test(name + tags)) return 'ğŸŸ';
      if (/ç”œå“|è›‹ç³•|ç³–/.test(name + tags)) return 'ğŸ°';
      return 'ğŸ½ï¸';
    },
    computedReason() {
      // æ ¹æ®æ ‡ç­¾æˆ–èœåè‡ªåŠ¨ç”Ÿæˆæ¨èç†ç”±
      const tags = this.recipe.tags || [];
      if (tags.includes('é«˜è›‹ç™½')) return 'é«˜è›‹ç™½ï¼ŒåŠ©åŠ›è‚Œè‚‰ä¿®å¤å’Œå¢å¼ºä½“åŠ›';
      if (tags.includes('ä½è„‚')) return 'ä½è„‚è‚ªï¼Œé€‚åˆæ§åˆ¶ä½“é‡';
      if (tags.includes('å‡è¡¡')) return 'è¥å…»å‡è¡¡ï¼Œæ»¡è¶³æ—¥å¸¸æ‰€éœ€';
      if (tags.includes('é«˜çº¤ç»´')) return 'é«˜çº¤ç»´ï¼Œæœ‰åŠ©äºè‚ é“å¥åº·';
      if (tags.includes('è¡¥é“')) return 'å¯Œå«é“å…ƒç´ ï¼Œé€‚åˆè¡¥è¡€';
      // é»˜è®¤ç†ç”±
      return 'è¥å…»ä¸°å¯Œï¼Œé€‚åˆä»Šæ—¥æ¨è';
    }
  }
}
</script>

<style scoped>
.daily-recipe-card {
  background: linear-gradient(135deg, #e0ffe6 0%, #f6fff8 100%);
  border-radius: 24rpx;
  box-shadow: 0 4rpx 16rpx #d0e7d2;
  padding: 28rpx 20rpx 20rpx 20rpx;
  margin: 40rpx 0 32rpx 0;
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  max-width: 90vw;
  min-width: 320rpx;
}
.header {
  display: flex;
  align-items: center;
  gap: 16rpx;
  margin-bottom: 16rpx;
}
.emoji {
  font-size: 40rpx;
}
.title {
  font-size: 32rpx;
  font-weight: bold;
  color: #25643b;
}
.ai-label {
  font-size: 22rpx;
  color: #7bc47f;
  background: #fff;
  border-radius: 16rpx;
  padding: 4rpx 16rpx;
  margin-left: 12rpx;
}
.recipe-name {
  display: flex;
  align-items: center;
  font-size: 28rpx;
  font-weight: bold;
  color: #2e7d4b;
  margin-bottom: 12rpx;
}
.dish-emoji {
  font-size: 32rpx;
  margin-right: 8rpx;
}
.reason {
  font-size: 24rpx;
  color: #25643b;
  background: #eafaf1;
  border-radius: 12rpx;
  padding: 12rpx 16rpx;
  margin-top: 8rpx;
  width: 100%;
}
.reason-label {
  font-weight: bold;
  margin-right: 4rpx;
}
.reason-text {
  color: #4caf50;
}
</style> 